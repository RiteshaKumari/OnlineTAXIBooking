"use strict";(self.webpackChunkmyproject=self.webpackChunkmyproject||[]).push([[314],{314:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var a=n(43),o=n(786),s=n(213),r=n(906),i=n(880),l=n(579);const c=function(){const e=(0,r.Zp)(),[t,n]=(0,a.useState)([]),[c,d]=(0,a.useState)("");(0,a.useEffect)((()=>{i.A.get("xyzra")||e("/signin")}),[e]),(0,a.useEffect)((()=>{const t=localStorage.getItem("jwt_token");console.log(t),s.A.get("https://localhost:7009/api/Home/GetBookedData",{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json"}}).then((e=>{n(e.data)})).catch((t=>{console.error("There was an error fetching the data!",t),t.response&&401===t.response.status&&e("/signin")}))}),[e]);const g=[{name:"Booking ID",selector:e=>e.bookingId.toString(),sortable:!0},{name:"Starting Destination",selector:e=>e.startingDestination,sortable:!0},{name:"End Destination",selector:e=>e.endDestination,sortable:!0},{name:"Phone",selector:e=>e.phone,sortable:!0},{name:"Starting Date",selector:e=>e.startingDate,sortable:!0,format:e=>new Date(e.startingDate).toLocaleDateString()},{name:"No of Days",selector:e=>e.noOfDays.toString(),sortable:!0}],h=t.filter((e=>{const t=c.trim().toLowerCase();return e.bookingId.toString().toLowerCase().includes(t)||e.noOfDays.toString().toLowerCase().includes(t)||e.startingDestination&&e.startingDestination.toLowerCase().includes(t)||e.endDestination&&e.endDestination.toLowerCase().includes(t)||e.phone&&e.phone.toLowerCase().includes(t)||e.startingDate&&new Date(e.startingDate).toLocaleDateString().toLowerCase().includes(t)}));return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"main-content",children:(0,l.jsxs)("main",{children:[(0,l.jsxs)("div",{className:"page-header",children:[(0,l.jsx)("h1",{children:"Dashboard"}),(0,l.jsx)("small",{children:"Home / Dashboard"})]}),(0,l.jsxs)("div",{className:"page-content",children:[(0,l.jsx)("div",{className:"search-bar",style:{marginBottom:"20px"},children:(0,l.jsx)("input",{type:"text",placeholder:"Search by booking ID, destinations, phone, date or days...",value:c,onChange:e=>d(e.target.value),style:{padding:"10px",width:"100%",maxWidth:"300px",marginBottom:"20px",borderRadius:"5px",border:"1px solid #ddd"}})}),(0,l.jsx)(o.Ay,{title:"Booking Data",columns:g,data:h,pagination:!0,highlightOnHover:!0,striped:!0,responsive:!0,sortIcon:(0,l.jsx)("span",{className:"sort-icon",style:{fontSize:"18px",color:"#007bff"},children:"\u21c5"})})]})]})})})}}}]);
//# sourceMappingURL=314.e6078692.chunk.js.map